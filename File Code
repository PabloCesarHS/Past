var httpWebRequest = (HttpWebRequest)WebRequest.Create("http://url");
httpWebRequest.ContentType = "application/json";
httpWebRequest.Method = "POST";

using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))
{
    string json = "{\"user\":\"test\"," +
                  "\"password\":\"bla\"}";

    streamWriter.Write(json);
}

var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();
using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))
{
    var result = streamReader.ReadToEnd();
}

-----------------------------------------------------------------------------------------------
var url = "https://reqbin.com/echo/post/json";

var httpRequest = (HttpWebRequest)WebRequest.Create(url);
httpRequest.Method = "POST";

httpRequest.Accept = "application/json";
httpRequest.Headers["Authorization"] = "Bearer vklsmnfbklfmsdbmksfbsb";
httpRequest.ContentType = "application/json";

var data = @"{
  ""Id"": 78912,
  ""Customer"": ""Jason Sweet"",
  ""Quantity"": 1,
  ""Price"": 18.00
}";

using (var streamWriter = new StreamWriter(httpRequest.GetRequestStream()))
{
   streamWriter.Write(data);
}

var httpResponse = (HttpWebResponse)httpRequest.GetResponse();
using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))
{
   var result = streamReader.ReadToEnd();
}

Console.WriteLine(httpResponse.StatusCode);
-------------------------------------------------------------
var payload = new Credentials { 
    Agent = new Agent { 
        Name = "Agent Name",
        Version = 1 
    },
    Username = "Username",
    Password = "User Password",
    Token = "xxxxx"
};

// Serialize our concrete class into a JSON String
var stringPayload = JsonConvert.SerializeObject(payload);

// Wrap our JSON inside a StringContent which then can be used by the HttpClient class
var httpContent = new StringContent(stringPayload, Encoding.UTF8, "application/json");

var httpClient = new HttpClient()
    
// Do the actual request and await the response
var httpResponse = await httpClient.PostAsync("http://localhost/api/path", httpContent);

// If the response contains content we want to read it!
if (httpResponse.Content != null) {
    var responseContent = await httpResponse.Content.ReadAsStringAsync();
    
    // From here on you could deserialize the ResponseContent back again to a concrete C# type using Json.Net
}

-------------------------------------

public static string GetPost()
        {
            string result = "";
            WebRequest oRequest = WebRequest.Create("https://jsonplaceholder.typicode.com/posts");
            oRequest.Method = "POST";
            oRequest.ContentType = "application/json;charset=UTF-8";

            using (var oWS = new StreamWriter(oRequest.GetRequestStream()))
            {
                string json = "{\"Nombre\":\"Juanito\"}";
                oWS.Write(json);
                oWS.Flush();
                oWS.Close();
            }

            WebResponse oResponse = oRequest.GetResponse();
            using (var oSR = new StreamReader(oResponse.GetResponseStream()))
            {
                result = oSR.ReadToEnd().Trim();
            }

            return result;
        }
        
        
-------------------------------------------------------------------------------------
public class ClaBusInt_ConsultaDeuda
        {
            public string usuario;
            public string codigoInstitucion;
            public string canal;
            public string codigoAlumno;
            public string codigoConcepto;

            public ClaBusInt_ConsultaDeuda()
            {                
            }

            public ClaBusInt_ConsultaDeuda(string usuario, string codigoInstitucion, string canal, string codigoAlumno, string codigoConcepto)
            {
                this.usuario = usuario ?? throw new ArgumentNullException(nameof(usuario));
                this.codigoInstitucion = codigoInstitucion ?? throw new ArgumentNullException(nameof(codigoInstitucion));
                this.canal = canal ?? throw new ArgumentNullException(nameof(canal));
                this.codigoAlumno = codigoAlumno ?? throw new ArgumentNullException(nameof(codigoAlumno));
                this.codigoConcepto = codigoConcepto ?? throw new ArgumentNullException(nameof(codigoConcepto));
            }
        }


        public static ClaBusInt_ConsultaDeuda Probar()
        {
            ClaBusInt_ConsultaDeuda oConsultaDeuda = new ClaBusInt_ConsultaDeuda();
            try
            {
                Dictionary<string, Object> Parametros = new Dictionary<string, object>();
                Parametros.Add("usuario", "Juan");
                Parametros.Add("codigoinstitucion", "Carlos");
                Parametros.Add("canal", "Robert");
                Parametros.Add("codigoalumno", "Lomo");
                Parametros.Add("codigoconcepto", "4564651351654168468");

                String sParams = JsonConvert.SerializeObject(Parametros);

                //Byte[] byteParams = Encoding.UTF8.GetBytes(sParams);


                //HttpWebRequest request = (HttpWebRequest)WebRequest.Create(_UrlConDeuda);
                //HttpWebRequest oRequest = (HttpWebRequest)WebRequest.Create("https://jsonplaceholder.typicode.com/posts");

                WebRequest oRequest = WebRequest.Create("https://jsonplaceholder.typicode.com/posts");
                //request.ContentType = "application/json";
                //request.Headers.Add("Authorization", "Bearer " + oAtutenticacion.access_token);
                oRequest.Method = "POST";
                //request.ContentLength = byteParams.Length;


                oRequest.ContentType = "application/json;charset=UTF-8";
                //request.Headers["Authorization"] = "Bearer " + oAtutenticacion.access_token;
                //request.ContentType = "application/json";

                using (var oWS = new StreamWriter(oRequest.GetRequestStream()))
                {
                    //string json = "{\"Nombre\":\"Juanito\"}";

                    //string json = "{\"usuario\":\"User\",\"codigoInstitucion\":\"User\",\"canal\":\"User\",\"codigoAlumno\":\"User\",\"codigoConcepto\":\"User\"}";
                    oWS.Write(sParams);
                    oWS.Flush();
                    oWS.Close();
                }

                WebResponse oResponse = oRequest.GetResponse();
                using (var oSR = new StreamReader(oResponse.GetResponseStream()))
                {
                    string result = oSR.ReadToEnd().Trim();
                    oConsultaDeuda = JsonConvert.DeserializeObject<ClaBusInt_ConsultaDeuda>(oSR.ReadToEnd());
                }               

            }
            catch (WebException ex)
            {
                using (Stream dataStream = ex.Response.GetResponseStream())
                {
                    StreamReader reader = new StreamReader(dataStream, Encoding.UTF8);
                    oConsultaDeuda = JsonConvert.DeserializeObject<ClaBusInt_ConsultaDeuda>(reader.ReadToEnd());
                }
            }

            return oConsultaDeuda;
        }
